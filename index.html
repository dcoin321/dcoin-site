<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DCOIN Login</title>

<style>
body{
    margin:0;
    font-family:Arial;
    background:#0d0d0d;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    color:white;
}

.box{
    background:#161616;
    padding:30px;
    border-radius:12px;
    width:90%;
    max-width:350px;
    text-align:center;
    box-shadow:0 0 15px rgba(255,215,0,0.4);
}

input{
    width:100%;
    padding:12px;
    margin-top:10px;
    border:none;
    border-radius:8px;
}

button{
    width:100%;
    padding:12px;
    margin-top:15px;
    border:none;
    border-radius:8px;
    background:gold;
    font-weight:bold;
}
</style>
</head>

<body>

<div class="box">
<h2>DCOIN</h2>

<input id="usuario" placeholder="Digite seu usuário">
<button onclick="login()">Entrar</button>

</div>

<script>

/* ===== CAPTURA INDICAÇÃO ===== */
let parametros = new URLSearchParams(window.location.search);
let ref = parametros.get("ref");

if(ref){
    localStorage.setItem("indicadoPor", ref);
}

/* ===== LOGIN ===== */
function login(){

    let usuario = document.getElementById("usuario").value;

    if(usuario === ""){
        alert("Digite um usuário");
        return;
    }

    localStorage.setItem("usuario", usuario);

    /* salva indicador */
    let indicador = localStorage.getItem("indicadoPor");

    if(indicador){
        localStorage.setItem("meuIndicador", indicador);
    }

    if(!localStorage.getItem("saldo")){
        localStorage.setItem("saldo", 100);
    }

    alert("Login realizado com sucesso");

    window.location.href="dashboard.html";
}

</script>

</body>
</html>
